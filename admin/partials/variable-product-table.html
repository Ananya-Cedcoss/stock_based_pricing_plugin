<?php $sbpp_index_loop = $loop + 1; // assigning index according to loop variable.
		$sbpp_data       = get_post_meta( $variation->ID, '_price_acc_to_stock_var' ); // Assigning the post meta data to the variable.
		$sbpp_pricing    = json_decode( $sbpp_data[0], true ); // decoding the data and converting it to array.
		$sbpp_count_data = count( $sbpp_pricing ); // assigning the length of the array.       
		?>

			<div class="product_custom_field show_if_variation_manage_stock"> 
			<div class="my_stock_div_forVariation" id="my_stock_div_forVariation_<?php echo esc_attr( $sbpp_index_loop )?>" >
                  <?php echo esc_html__('Give Price Acc To Stock', 'stock-based-pricing-plugin') ?> <br>  
                    <table id="Stock_table_variation_<?php echo esc_attr( $sbpp_index_loop )?>">
                        <tr> 
                            <th><?php echo esc_html__('Min Quanity', 'stock-based-pricing-plugin') ?> </th>  
                            <th><?php echo esc_html__('Max Quanity', 'stock-based-pricing-plugin') ?> </th>  
                            <th><?php echo esc_html__('Amount', 'stock-based-pricing-plugin') ?></th>  
                            <th><?php echo esc_html__('Action', 'stock-based-pricing-plugin') ?></th> 
                         </tr>
						<?php  $sbpp_index = 1; 
						 if ( $sbpp_count_data > 0 ) {
							 foreach ( $sbpp_pricing as $key => $value ) {
								 $sbpp_minimum_val = $value['Min']; // Assigning the Min value.
								 $sbpp_max_value   = $value['Max']; // Assigning the Max value.
								 $sbpp_amount      = $value['Amount']; // Assigning the Amount value.	
								 ?>		
								<tr><td> <input  type="text" value="<?php echo esc_attr( $sbpp_minimum_val ) ?>"  name="Min_Var_<?php echo esc_attr( $variation->ID )?>[]"  id="Min_Quantity_Var_<?php echo $sbpp_index_loop . $sbpp_index ?>"   onkeypress="return AllowOnlyNumbers(event);"/>  </td>   
									<td> <input type="text" value="<?php echo esc_attr( $sbpp_max_value ) ?>"  name="Max_Var_<?php echo esc_attr( $variation->ID ) ?>[]"   onkeypress="return AllowOnlyNumbers(event);" onblur="validateMaxamount(this,'<?php echo $sbpp_index_loop . $sbpp_index ?>', -1,'<?php echo  $loop?>')" id="Max_Quantity_Var_<?php echo $sbpp_index_loop . $sbpp_index ?>"/>  </td> 
									<td> <input type="text" value="<?php echo  esc_attr( $sbpp_amount ) ?>"  onkeypress="return AllowOnlyNumbers(event);"  name="Amount_Var_<?php echo  esc_attr( $variation->ID ) ?>[]"  id="Amount_Var_<?php echo  $sbpp_index_loop . $sbpp_index ?>" />  </td> 
									<?php if ( $sbpp_index == 1 ) {		?>		
										<td> <span class="right"  onclick="GenerateNewRow_Variation('<?php echo esc_attr( $loop ) ?>', '<?php echo esc_attr( $variation->ID ) ?>')" ><b> + </b></span> </td> 
								   <?php } else {	//<?php echo esc_html__('Add Row', 'stock-based-pricing-plugin') ?>
								  	
										<td>   
											<span class="right"  onclick="GenerateNewRow_Variation('<?php echo esc_attr( $loop ) ?>', '<?php echo esc_attr( $variation->ID ) ?>')" > <b> + </b>  </span> &nbsp;
											<span class="delete_row left" onclick="DeleteExistingRow(this)"><b> - </b> </span>   <span class="hide_span"> </span> &nbsp;&nbsp;&nbsp;&nbsp;   </td>  
										   <?php } ?>
								  </tr> 
								  <?php	 $sbpp_index = ++$sbpp_index; 
							 }
						 } else {     ?>
							<tr>
								<td> <input type="text" name="Min_Var_<?php echo esc_attr( $variation->ID ) ?>[]"  onkeypress="return AllowOnlyNumbers(event);" id="Min_Quantity_Var_<?php echo esc_attr( $sbpp_index_loop ) ?>1"/>  </td> 
							 	<td> <input type="text" onkeypress="return AllowOnlyNumbers(event);" name="Max_Var_<?php echo esc_attr( $variation->ID ) ?>[]" onblur="validateMaxamount(this,'<?php echo $sbpp_index_loop ?>1',-1,'<php echo $loop ?>')" onkeypress="return AllowOnlyNumbers(event);"  id="Max_Quantity_Var_<?php echo esc_attr( $sbpp_index_loop ) ?>1" />  </td>
							 	<td> <input type="text"   name="Amount_Var_<?php echo esc_attr( $variation->ID ) ?>[]"     id="Amount_Var_<?php echo esc_attr( $sbpp_index_loop ) ?>1" />  </td>
						<?php	if ( $sbpp_index == 1 ) { ?>
								<td> <span  onclick="GenerateNewRow_Variation('<?php echo esc_attr( $loop ) ?>','<?php echo esc_attr( $variation->ID )?>')" ><u> <b> + </b> </u></span> </td> 
						<?php	} else { ?>
							 <td>
								<span  onclick="GenerateNewRow_Variation('<?php echo esc_attr( $loop ) ?>', '<?php echo esc_attr( $variation->ID ) ?>')" ><u> <b> + </b></u> </span> &nbsp; 
								<sapn class="delete_row" onclick="DeleteExistingRow(this)"><u> <b>  </b></u></span> </td>  
							<?php } ?>
							 </tr> 
					<?php	}?>

			</table> </div></div> 



		